var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}function s(t,n,e){t.$$.on_destroy.push(c(n,e))}function u(t){return null==t?"":t}function i(t,n,e){return t.set(e),n}function f(t,n){t.appendChild(n)}function a(t,n,e){t.insertBefore(n,e||null)}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function g(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function d(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function p(){return m(" ")}function $(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function v(t){return function(n){return n.preventDefault(),t.call(this,n)}}function b(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function x(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function w(t,n,e,o){null===e?t.style.removeProperty(n):t.style.setProperty(n,e,o?"important":"")}let y;function k(t){y=t}function _(){const t=function(){if(!y)throw new Error("Function called outside component initialization");return y}();return(n,e,{cancelable:o=!1}={})=>{const r=t.$$.callbacks[n];if(r){const l=function(t,n,{bubbles:e=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e,o,n),r}(n,e,{cancelable:o});return r.slice().forEach((n=>{n.call(t,l)})),!l.defaultPrevented}return!0}}const E=[],C=[];let S=[];const z=[],M=Promise.resolve();let O=!1;function q(t){S.push(t)}const N=new Set;let j=0;function A(){if(0!==j)return;const t=y;do{try{for(;j<E.length;){const t=E[j];j++,k(t),G(t.$$)}}catch(t){throw E.length=0,j=0,t}for(k(null),E.length=0,j=0;C.length;)C.pop()();for(let t=0;t<S.length;t+=1){const n=S[t];N.has(n)||(N.add(n),n())}S.length=0}while(E.length);for(;z.length;)z.pop()();O=!1,N.clear(),k(t)}function G(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(q)}}const L=new Set;let P;function I(t,n){t&&t.i&&(L.delete(t),t.i(n))}function T(t,n,e,o){if(t&&t.o){if(L.has(t))return;L.add(t),P.c.push((()=>{L.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}else o&&o()}function B(t){t&&t.c()}function H(t,e,l,c){const{fragment:s,after_update:u}=t.$$;s&&s.m(e,l),c||q((()=>{const e=t.$$.on_mount.map(n).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(q)}function J(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];S.forEach((o=>-1===t.indexOf(o)?n.push(o):e.push(o))),e.forEach((t=>t())),S=n}(e.after_update),o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function D(t,n){-1===t.$$.dirty[0]&&(E.push(t),O||(O=!0,M.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function F(n,r,l,c,s,u,i,f=[-1]){const a=y;k(n);const g=n.$$={fragment:null,ctx:[],props:u,update:t,not_equal:s,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(a?a.$$.context:[])),callbacks:e(),dirty:f,skip_bound:!1,root:r.target||a.$$.root};i&&i(g.root);let d=!1;if(g.ctx=l?l(n,r.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return g.ctx&&s(g.ctx[t],g.ctx[t]=r)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](r),d&&D(n,t)),e})):[],g.update(),d=!0,o(g.before_update),g.fragment=!!c&&c(g.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);g.fragment&&g.fragment.l(t),t.forEach(h)}else g.fragment&&g.fragment.c();r.intro&&I(n.$$.fragment),H(n,r.target,r.anchor,r.customElement),A()}k(a)}class R{$destroy(){J(this,1),this.$destroy=t}$on(n,e){if(!r(e))return t;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function X(t){const n=n=>{!t||t.contains(n.target)||n.defaultPrevented||t.dispatchEvent(new CustomEvent("clickOutside",t))};return document.addEventListener("click",n,!0),{destroy(){document.removeEventListener("click",n,!0)}}}function Y(n){let e,l,c,s,u,i,g,m,v,x,y;return{c(){e=d("span"),l=d("button"),l.textContent="new",c=p(),s=d("div"),u=d("button"),u.textContent="5x5",i=p(),g=d("button"),g.textContent="10x10",m=p(),v=d("button"),v.textContent="15x15",b(l,"class","svelte-q8f3fh"),b(u,"class","svelte-q8f3fh"),b(g,"class","svelte-q8f3fh"),b(v,"class","svelte-q8f3fh"),w(s,"max-height",n[1]+"px"),b(s,"class","svelte-q8f3fh"),b(e,"class","svelte-q8f3fh")},m(o,h){var d;a(o,e,h),f(e,l),f(e,c),f(e,s),f(s,u),f(s,i),f(s,g),f(s,m),f(s,v),n[8](s),x||(y=[$(l,"click",n[3]),$(u,"click",n[5]),$(g,"click",n[6]),$(v,"click",n[7]),(d=X.call(null,e,X),d&&r(d.destroy)?d.destroy:t),$(e,"clickOutside",n[4])],x=!0)},p(t,[n]){2&n&&w(s,"max-height",t[1]+"px")},i:t,o:t,d(t){t&&h(e),n[8](null),x=!1,o(y)}}}function K(t,n,e){const o=_();let r,l=0;return[r,l,o,function(){e(1,l=0===l?r.scrollHeight:0)},function(){e(1,l=0)},()=>o("newGame",{size:5}),()=>o("newGame",{size:10}),()=>o("newGame",{size:15}),function(t){C[t?"unshift":"push"]((()=>{r=t,e(0,r)}))}]}class Q extends R{constructor(t){super(),F(this,t,K,Y,l,{})}}const U=[];function V(n,e=t){let o;const r=new Set;function c(t){if(l(n,t)&&(n=t,o)){const t=!U.length;for(const t of r)t[1](),U.push(t,n);if(t){for(let t=0;t<U.length;t+=2)U[t][0](U[t+1]);U.length=0}}}return{set:c,update:function(t){c(t(n))},subscribe:function(l,s=t){const u=[l,s];return r.add(u),1===r.size&&(o=e(c)||t),l(n),()=>{r.delete(u),0===r.size&&o&&(o(),o=null)}}}}function W(n,e,l){const s=!Array.isArray(n),u=s?[n]:n,i=e.length<2;return f=n=>{let l=!1;const f=[];let a=0,h=t;const g=()=>{if(a)return;h();const o=e(s?f[0]:f,n);i?n(o):h=r(o)?o:t},d=u.map(((t,n)=>c(t,(t=>{f[n]=t,a&=~(1<<n),l&&g()}),(()=>{a|=1<<n}))));return l=!0,g(),function(){o(d),h(),l=!1}},{subscribe:V(l,f).subscribe};var f}const Z=0,tt=1,nt=2,et=V(Z);function ot(t,n){if(null===t||"null"===t||void 0===t)return null;let e=[];for(let o of t){let t=0;for(let e=0;e<o.length;e++)t+=o[e]*Math.pow(n,e);e.push(t)}return JSON.stringify(e)}function rt(t,n){if(null===t||"null"===t||void 0===t)return null;t=JSON.parse(t);let e=[];for(let o of t){let r=[];for(let e=0;e<t.length;e++)r.push(o%n),o=Math.floor(o/n);e.push(r)}return e}const lt=V(rt(localStorage.getItem("nonogramGame"),2)),ct=V(rt(localStorage.getItem("nonogramMoves"),3));ct.subscribe((t=>{localStorage.setItem("nonogramMoves",ot(t,3))}));const st=t=>{let n=[];for(let e=0;e<t;e++){let e=[];for(let n=0;n<t;n++)e.push(Math.random()<.5?0:1);n.push(e)}lt.set(n),ct.set(n.map((t=>t.map((t=>0))))),localStorage.setItem("nonogramGame",ot(n,2))},ut=W(lt,(t=>()=>{let n=[];for(let e=0;e<t.length;e++){let o=[],r=0;for(let n=0;n<t.length;n++)0!==t[n][e]?r++:0!==r&&(o.push(r),r=0);0!==r&&o.push(r),0===o.length&&o.push(0),n.push(o)}return n})),it=W(lt,(t=>()=>{let n=[];for(let e=0;e<t.length;e++){let o=[],r=0;for(let n=0;n<t.length;n++)0!==t[e][n]?r++:0!==r&&(o.push(r),r=0);0!==r&&o.push(r),0===o.length&&o.push(0),n.push(o)}return n}));function ft(t){let n,e,r,l,c,s,u,i,g,v,x,w,y;return i=new Q({}),i.$on("newGame",t[3]),{c(){n=d("section"),e=d("h1"),e.innerHTML="nono<wbr/>gram",r=p(),l=d("button"),c=m("continue"),u=p(),B(i.$$.fragment),g=p(),v=d("button"),v.textContent="settings",b(e,"class","svelte-1l6wxbt"),l.disabled=s=null===t[0],b(l,"class","svelte-1l6wxbt"),b(v,"class","svelte-1l6wxbt"),b(n,"class","svelte-1l6wxbt")},m(o,s){a(o,n,s),f(n,e),f(n,r),f(n,l),f(l,c),f(n,u),H(i,n,null),f(n,g),f(n,v),x=!0,w||(y=[$(l,"click",t[2]),$(v,"click",t[4])],w=!0)},p(t,[n]){(!x||1&n&&s!==(s=null===t[0]))&&(l.disabled=s)},i(t){x||(I(i.$$.fragment,t),x=!0)},o(t){T(i.$$.fragment,t),x=!1},d(t){t&&h(n),J(i),w=!1,o(y)}}}function at(t,n,e){let o;function r(t){st(t),et.set(tt)}s(t,lt,(t=>e(0,o=t)));return[o,r,()=>et.set(tt),t=>r(t.detail.size),()=>et.set(nt)]}class ht extends R{constructor(t){super(),F(this,t,at,ft,l,{})}}function gt(t,n,e){const o=t.slice();return o[1]=n[e],o}function dt(t,n,e){const o=t.slice();return o[4]=n[e],o}function mt(t){let n,e,o=t[4]+"";return{c(){n=d("span"),e=m(o),b(n,"class","svelte-1pgk4si")},m(t,o){a(t,n,o),f(n,e)},p(t,n){1&n&&o!==(o=t[4]+"")&&x(e,o)},d(t){t&&h(n)}}}function pt(t){let n,e,o=t[1],r=[];for(let n=0;n<o.length;n+=1)r[n]=mt(dt(t,o,n));return{c(){n=d("div");for(let t=0;t<r.length;t+=1)r[t].c();e=p(),b(n,"class","svelte-1pgk4si")},m(t,o){a(t,n,o);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(n,null);f(n,e)},p(t,l){if(1&l){let c;for(o=t[1],c=0;c<o.length;c+=1){const s=dt(t,o,c);r[c]?r[c].p(s,l):(r[c]=mt(s),r[c].c(),r[c].m(n,e))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}},d(t){t&&h(n),g(r,t)}}}function $t(n){let e,o=n[0](),r=[];for(let t=0;t<o.length;t+=1)r[t]=pt(gt(n,o,t));return{c(){e=d("section");for(let t=0;t<r.length;t+=1)r[t].c();b(e,"class","svelte-1pgk4si")},m(t,n){a(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,[n]){if(1&n){let l;for(o=t[0](),l=0;l<o.length;l+=1){const c=gt(t,o,l);r[l]?r[l].p(c,n):(r[l]=pt(c),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=o.length}},i:t,o:t,d(t){t&&h(e),g(r,t)}}}function vt(t,n,e){let o;return s(t,it,(t=>e(0,o=t))),[o]}class bt extends R{constructor(t){super(),F(this,t,vt,$t,l,{})}}function xt(t,n,e){const o=t.slice();return o[10]=n[e],o}function wt(t,n,e){const o=t.slice();return o[13]=n[e],o}function yt(t){let n,e;return{c(){n=d("span"),b(n,"class",e=u(1===t[13]?"filled":2===t[13]?"cross":"")+" svelte-wm23kh")},m(t,e){a(t,n,e)},p(t,o){2&o&&e!==(e=u(1===t[13]?"filled":2===t[13]?"cross":"")+" svelte-wm23kh")&&b(n,"class",e)},d(t){t&&h(n)}}}function kt(t){let n,e,o=t[10],r=[];for(let n=0;n<o.length;n+=1)r[n]=yt(wt(t,o,n));return{c(){n=d("div");for(let t=0;t<r.length;t+=1)r[t].c();e=p(),b(n,"class","svelte-wm23kh")},m(t,o){a(t,n,o);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(n,null);f(n,e)},p(t,l){if(2&l){let c;for(o=t[10],c=0;c<o.length;c+=1){const s=wt(t,o,c);r[c]?r[c].p(s,l):(r[c]=yt(s),r[c].c(),r[c].m(n,e))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}},d(t){t&&h(n),g(r,t)}}}function _t(n){let e,r,l,c=n[1],s=[];for(let t=0;t<c.length;t+=1)s[t]=kt(xt(n,c,t));return{c(){e=d("section");for(let t=0;t<s.length;t+=1)s[t].c();b(e,"class","svelte-wm23kh")},m(t,o){a(t,e,o);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);n[5](e),r||(l=[$(e,"mousedown",v(n[2])),$(e,"touchstart",v(n[2])),$(e,"mousemove",v(n[3])),$(e,"touchmove",v(n[3])),$(e,"mouseup",v(n[4])),$(e,"touchend",v(n[4])),$(e,"mouseleave",v(n[4])),$(e,"touchcancel",v(n[4]))],r=!0)},p(t,[n]){if(2&n){let o;for(c=t[1],o=0;o<c.length;o+=1){const r=xt(t,c,o);s[o]?s[o].p(r,n):(s[o]=kt(r),s[o].c(),s[o].m(e,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=c.length}},i:t,o:t,d(t){t&&h(e),g(s,t),n[5](null),r=!1,o(l)}}}function Et(t,n,e){let o,r;s(t,ct,(t=>e(1,o=t)));let l,c=!1;function u(t){t=t.touches?.[0]||t;let n=o.length,e=r.getBoundingClientRect(),l=Math.floor(n*(t.pageX-e.left)/e.width),c=Math.floor(n*(t.pageY-e.top)/e.height);return(l<0||l>n-1)&&(l=-1),(c<0||c>n-1)&&(c=-1),[l,c]}function f(t,n){-1!==t&&-1!==n&&(void 0===l?0===o[n][t]?(i(ct,o[n][t]=1,o),l=!0):(i(ct,o[n][t]=0,o),l=!1):i(ct,o[n][t]=l?1:0,o))}return[r,o,function(t){c=!0;let[n,e]=u(t);f(n,e)},function(t){if(!c)return;let[n,e]=u(t);f(n,e)},function(){c=!1,l=void 0},function(t){C[t?"unshift":"push"]((()=>{r=t,e(0,r)}))}]}class Ct extends R{constructor(t){super(),F(this,t,Et,_t,l,{})}}function St(t,n,e){const o=t.slice();return o[1]=n[e],o}function zt(t,n,e){const o=t.slice();return o[4]=n[e],o}function Mt(t){let n,e,o=t[4]+"";return{c(){n=d("span"),e=m(o),b(n,"class","svelte-1vfpxj6")},m(t,o){a(t,n,o),f(n,e)},p(t,n){1&n&&o!==(o=t[4]+"")&&x(e,o)},d(t){t&&h(n)}}}function Ot(t){let n,e,o=t[1],r=[];for(let n=0;n<o.length;n+=1)r[n]=Mt(zt(t,o,n));return{c(){n=d("div");for(let t=0;t<r.length;t+=1)r[t].c();e=p(),b(n,"class","svelte-1vfpxj6")},m(t,o){a(t,n,o);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(n,null);f(n,e)},p(t,l){if(1&l){let c;for(o=t[1],c=0;c<o.length;c+=1){const s=zt(t,o,c);r[c]?r[c].p(s,l):(r[c]=Mt(s),r[c].c(),r[c].m(n,e))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}},d(t){t&&h(n),g(r,t)}}}function qt(n){let e,o=n[0](),r=[];for(let t=0;t<o.length;t+=1)r[t]=Ot(St(n,o,t));return{c(){e=d("section");for(let t=0;t<r.length;t+=1)r[t].c();b(e,"class","svelte-1vfpxj6")},m(t,n){a(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,[n]){if(1&n){let l;for(o=t[0](),l=0;l<o.length;l+=1){const c=St(t,o,l);r[l]?r[l].p(c,n):(r[l]=Ot(c),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=o.length}},i:t,o:t,d(t){t&&h(e),g(r,t)}}}function Nt(t,n,e){let o;return s(t,ut,(t=>e(0,o=t))),[o]}class jt extends R{constructor(t){super(),F(this,t,Nt,qt,l,{})}}function At(n){let e,o,r,l,c,s,u,i,g;return l=new jt({}),s=new bt({}),i=new Ct({}),{c(){e=d("section"),o=d("span"),r=p(),B(l.$$.fragment),c=p(),B(s.$$.fragment),u=p(),B(i.$$.fragment),b(e,"class","svelte-1tf66bs")},m(t,n){a(t,e,n),f(e,o),f(e,r),H(l,e,null),f(e,c),H(s,e,null),f(e,u),H(i,e,null),g=!0},p:t,i(t){g||(I(l.$$.fragment,t),I(s.$$.fragment,t),I(i.$$.fragment,t),g=!0)},o(t){T(l.$$.fragment,t),T(s.$$.fragment,t),T(i.$$.fragment,t),g=!1},d(t){t&&h(e),J(l),J(s),J(i)}}}class Gt extends R{constructor(t){super(),F(this,t,null,At,l,{})}}function Lt(n){let e,o,r;return o=new Gt({}),{c(){e=d("main"),B(o.$$.fragment),b(e,"class","svelte-1aaua18")},m(t,n){a(t,e,n),H(o,e,null),r=!0},p:t,i(t){r||(I(o.$$.fragment,t),r=!0)},o(t){T(o.$$.fragment,t),r=!1},d(t){t&&h(e),J(o)}}}class Pt extends R{constructor(t){super(),F(this,t,null,Lt,l,{})}}function It(n){let e;return{c(){e=d("section"),e.textContent="Settings",b(e,"class","svelte-1blnzry")},m(t,n){a(t,e,n)},p:t,i:t,o:t,d(t){t&&h(e)}}}class Tt extends R{constructor(t){super(),F(this,t,null,It,l,{})}}function Bt(n){let e;return{c(){e=d("section"),e.textContent="Something went wrong!",b(e,"class","svelte-1blnzry")},m(t,n){a(t,e,n)},p:t,i:t,o:t,d(t){t&&h(e)}}}class Ht extends R{constructor(t){super(),F(this,t,null,Bt,l,{})}}function Jt(t){let n,e;return n=new Ht({}),{c(){B(n.$$.fragment)},m(t,o){H(n,t,o),e=!0},i(t){e||(I(n.$$.fragment,t),e=!0)},o(t){T(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Dt(t){let n,e;return n=new Tt({}),{c(){B(n.$$.fragment)},m(t,o){H(n,t,o),e=!0},i(t){e||(I(n.$$.fragment,t),e=!0)},o(t){T(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Ft(t){let n,e;return n=new Pt({}),{c(){B(n.$$.fragment)},m(t,o){H(n,t,o),e=!0},i(t){e||(I(n.$$.fragment,t),e=!0)},o(t){T(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Rt(t){let n,e;return n=new ht({}),{c(){B(n.$$.fragment)},m(t,o){H(n,t,o),e=!0},i(t){e||(I(n.$$.fragment,t),e=!0)},o(t){T(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Xt(t){let n,e,r,l;const c=[Rt,Ft,Dt,Jt],s=[];function u(t,n){return t[0]==Z?0:t[0]==tt?1:t[0]==nt?2:3}return n=u(t),e=s[n]=c[n](t),{c(){e.c(),r=m("")},m(t,e){s[n].m(t,e),a(t,r,e),l=!0},p(t,[l]){let i=n;n=u(t),n!==i&&(P={r:0,c:[],p:P},T(s[i],1,1,(()=>{s[i]=null})),P.r||o(P.c),P=P.p,e=s[n],e||(e=s[n]=c[n](t),e.c()),I(e,1),e.m(r.parentNode,r))},i(t){l||(I(e),l=!0)},o(t){T(e),l=!1},d(t){s[n].d(t),t&&h(r)}}}function Yt(t,n,e){let o;return s(t,et,(t=>e(0,o=t))),[o]}return new class extends R{constructor(t){super(),F(this,t,Yt,Xt,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
